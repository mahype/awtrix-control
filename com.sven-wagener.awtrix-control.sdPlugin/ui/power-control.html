<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Power Control Settings</title>
    <script src="https://sdpi-components.dev/releases/v4/sdpi-components.js"></script>
    <script src="../lib/awtrixScan.js"></script>
    <script src="../js/awtrix3.js"></script>
    <script src="power-control.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Silkscreen:wght@400;700&family=VT323&display=swap">
    <style>
        .scan-status {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            background-color: #000;
            color: #0f0;
            font-family: 'Silkscreen', cursive;
            font-size: 11px;
            line-height: 1.3;
            display: none;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
            letter-spacing: 0.1px;
        }
        .scan-status span {
            color: #0f0;
            font-weight: bold;
        }
        .terminal-output {
            margin-top: 5px;
            padding: 8px;
            border-radius: 4px;
            background-color: #000;
            color: #0f0;
            font-family: 'Silkscreen', cursive;
            font-size: 16px;
            line-height: 1.3;
            max-height: 150px;
            overflow-y: auto;
            display: none;
            letter-spacing: 0.5px;
        }
        .found-device {
            color: #0f0;
            margin: 3px 0;
            font-family: 'Silkscreen', cursive;
        }
        .found-device::before {
            content: "► ";
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <sdpi-item label="Action">
        <sdpi-select setting="action" value="toggle">
            <option value="toggle">Toggle Power</option>
            <option value="on">Turn On</option>
            <option value="off">Turn Off</option>
        </sdpi-select>
    </sdpi-item>
    
    <sdpi-item label="Device">
        <sdpi-select setting="device">
            <!-- Additional options will be populated dynamically -->
        </sdpi-select>
    </sdpi-item>
    
    <sdpi-item>
        <sdpi-button id="searchDevicesBtn" onclick="searchForDevices(event)">Search for Devices</sdpi-button>
        <div id="scanStatus" class="scan-status">Scanning: <span id="currentIp">-</span></div>
        <div id="terminalOutput" class="terminal-output">
            <!-- Hier werden gefundene Geräte sofort angezeigt -->
        </div>
    </sdpi-item>

    <script src="js/awtrix3.js"></script>
    <script src="js/ui/power-control.js"></script>
</body>
</html>
