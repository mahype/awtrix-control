<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Power Control Settings</title>
    <script src="https://sdpi-components.dev/releases/v4/sdpi-components.js"></script>
    <script src="../lib/awtrixScan.js"></script>
    <script src="../js/awtrix3.js"></script>
    <script src="power-control.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Silkscreen:wght@400;700&family=VT323&display=swap">
    <style>
        .scan-status {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            background-color: #000;
            color: #f0f8ff; /* Weiß mit leichtem Blaustich (AliceBlue) */
            font-family: 'Silkscreen', cursive;
            font-size: 12px;
            line-height: 1.3;
            display: none;
            box-shadow: 0 0 10px rgba(240, 248, 255, 0.5); /* Weiß mit leichtem Blaustich */
            border: 1px solid rgba(240, 248, 255, 0.8); /* Deutlicherer weißer Rahmen */
        }
        .scan-status span {
            color: #f0f8ff; /* Weiß mit leichtem Blaustich */
            font-weight: bold;
        }
        .terminal-output {
            margin-top: 5px;
            padding: 8px;
            border-radius: 4px;
            background-color: #000;
            color: #f0f8ff; /* Weiß mit leichtem Blaustich */
            font-family: 'Silkscreen', cursive;
            font-size: 16px;
            line-height: 1.3;
            max-height: 150px;
            overflow-y: auto;
            display: none;
            letter-spacing: 0.5px;
            border: 1px solid rgba(240, 248, 255, 0.8); /* Deutlicherer weißer Rahmen */
        }
        .found-device {
            color: #f0f8ff; /* Weiß mit leichtem Blaustich */
            margin: 3px 0;
            font-family: 'Silkscreen', cursive;
        }
        .found-device::before {
            content: "► ";
        }
        .hidden {
            display: none;
        }
        
        /* Ticker-Animation Styles */
        @keyframes ticker {
            0% { transform: translateX(20%); }
            100% { transform: translateX(-100%); }
        }
        
        .ticker-wrapper {
            overflow: hidden;
            white-space: nowrap;
            width: 100%;
        }
        
        .ticker-content {
            display: inline-block;
            animation: ticker 10s linear infinite;
            padding-left: 0;
        }
    </style>
</head>
<body>
    <sdpi-item label="Action">
        <sdpi-select setting="action" value="toggle">
            <option value="toggle">Toggle Power</option>
            <option value="on">Turn On</option>
            <option value="off">Turn Off</option>
        </sdpi-select>
    </sdpi-item>
    
    <sdpi-item label="Device">
        <sdpi-select setting="device">
            <!-- Additional options will be populated dynamically -->
        </sdpi-select>
    </sdpi-item>
    
    <sdpi-item>
        <sdpi-button id="searchDevicesBtn" onclick="searchForDevices(event)">Search for Devices</sdpi-button>
        <div id="scanStatus" class="scan-status">
            <div class="ticker-wrapper">
                <div class="ticker-content">
                    <span style="color: #ff5252 !important;" class="rainbow-s">S</span><span style="color: #ffb142 !important;" class="rainbow-c">c</span><span style="color: #ffeb3b !important;" class="rainbow-a">a</span><span style="color: #66bb6a !important;" class="rainbow-n1">n</span><span style="color: #29b6f6 !important;" class="rainbow-n2">n</span><span style="color: #7e57c2 !important;" class="rainbow-i">i</span><span style="color: #ec407a !important;" class="rainbow-n3">n</span><span style="color: #42a5f5 !important;" class="rainbow-g">g</span>: <span id="currentIp">-</span>
                </div>
            </div>
        </div>
        <div id="terminalOutput" class="terminal-output">
            <!-- Hier werden gefundene Geräte sofort angezeigt -->
        </div>
    </sdpi-item>

    <script src="js/awtrix3.js"></script>
    <script src="js/ui/power-control.js"></script>
</body>
</html>
